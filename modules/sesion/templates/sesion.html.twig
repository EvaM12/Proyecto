{{ attach_library('sesion/sesion') }}
{{ redireccion|raw }}
<div class="login-wrap position-relative">
	<div class="login-html position-absolute">
        {{ fallo|raw }}
		<input id="tab-1" type="radio" name="tab" class="sign-in" checked><label for="tab-1" class="tab">Sign In</label>
		<input id="tab-2" type="radio" name="tab" class="sign-up"><label for="tab-2" class="tab">Sign Up</label>
		<div class="login-form position-relative">
			<form class="sign-in-htm position-absolute" onsubmit="return validarFormulario()" method="post" action="http://localhost/AllTickets/sesion">
				<div class="group">
					<label for="userIn" class="label">Email Address</label>
					<input id="userIn" name="userIn" type="text" class="input" pattern="^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$">
				</div>
				<div class="group">
					<label for="passIn" class="label">Password</label>
					<input id="passIn" name="passIn" type="password" class="input" data-type="password" required pattern="[A-Za-z0-9]{8,12}">
				</div>
				<div class="group">
					<input id="check" type="checkbox" class="check" checked>
					<label for="check"><span class="icon"></span> Keep me Signed in</label>
				</div>
				<div class="group">
					<input type="submit" class="button" name="SignIn" id="SignIn" value="SignIn">
				</div>
				<div class="hr"></div>
				<div class="foot-lnk">
					<a href="#forgot">Forgot Password?</a>
				</div>
			</form>
			<form class="sign-up-htm position-absolute" onsubmit="return validarFormulario()" method="post" action="http://localhost/AllTickets/sesion">
				<div class="group">
					<label for="name" class="label">Name</label>
					<input id="name" name="name" type="text" class="input" required>
				</div>
				<div class="group">
					<label for="surname" class="label">Surname</label>
					<input id="surname" name="surname" type="text" class="input" required>
				</div>
				<div class="group">
					<label for="pass" class="label">Password</label>
					<input id="pass" name="pass" type="password" class="input" data-type="password" pattern="[A-Za-z0-9]{8,12}" required>
				</div>
				<div class="group">
					<label for="passRep" class="label">Repeat Password</label>
					<input id="passRep" name="passRep" type="password" class="input" data-type="password" pattern="[A-Za-z0-9]{8,12}" required>
				</div>
				<div class="group">
					<label for="email" class="label">Email Address</label>
					<input id="email" name="email" type="text" class="input" pattern="^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$" required>
				</div>
				<div class="group">
					<label for="emailRep" class="label">Repeat Email Address</label>
					<input id="emailRep" name="emailRep" type="text" class="input" pattern="^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$" required>
				</div>
				<div class="group">
					<label for="phone" class="label">Telephone</label>
					<input id="phone" name="phone" type="tel" class="input" required pattern="^(\+34|0034|34)?[6-7]\d{8}$" placeholder="+34600000000 or 600000000">
				</div>
				<div class="group">
					<input type="submit" class="button" name="SignUp" id="SignUp" value="SignUp">
				</div>
				<div class="hr"></div>
				<div class="foot-lnk">
					<label for="tab-1">Already Member?</a>
				</div>
			</div>
		</div>
	</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    $(document).ready(function () {
        $('.sign-up-htm').submit(function (event) {
            if (!validarFormulario()) {
                event.preventDefault(); // Evita que el formulario se envíe
            }
        });

        function validarFormulario() {
            var password = $('#pass').val();
            var confirmPassword = $('#passRep').val();
            var email = $('#email').val();
            var confirmEmail = $('#emailRep').val();

            if (password !== confirmPassword) {
                Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    text: 'The passwords are not the same',
                });
                return false; // Evita que el formulario se envíe
            }

            if (email !== confirmEmail) {
                Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    text: 'The emails are not the same',
                });
                return false; // Evita que el formulario se envíe
            }
            return true;
        }
    });
</script>
